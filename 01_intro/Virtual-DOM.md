# Virtual DOM (가상 돔)

## React
사용자 인터페이스를 만들기 위한 JavaScript 라이브러리이다.
**가장 큰 강점은 Virtual DOM을 사용하여 실제 DOM 업데이트의 성능 비용을 줄인다는 점이다.**

## DOM에 변경사항이 생기면?
- DOM 객체는 트리 데이터 구조로 되어 있으며 DOM에 대한 변경은 JavaScript 엔진에서 빠르게 수행 된다. 
- 하지만 DOM 변경 후 업데이트 된 요소와 해당 자식을 다시 렌더링하여 화면을 업데이트 해야한다.
- 이 때 `CSSOM`과 상태를 비교하여 `렌더 트리`를 구성하고 레이아웃을 재설정(`리플로우`)하고 다시 칠하는 과정(`리페인트`)인 `렌더링`에 시간이 든다.
- 이를 해결하기 위해 DOM을 최소한으로 조작하여 작업을 처리하는 방식인 `Virtual DOM`의 개념이 나타났다.

### 가상 돔이란?
- React에는 모든 DOM 개체에 대해 해당하는 가상 DOM 개체가 있다. 
- 가상 DOM 객체는 DOM 객체의 경량 복사본과 같다. 
- 가상 DOM은 가상의 UI 표현이 메모리에 유지되고 ReactDOM과 같은 라이브러리에 의해 실제 DOM과 동기화되는 프로그래밍 개념이다.

### 가상 돔을 사용하면?
- 새로운 요소가 화면에 추가되면 트리로 표현되는 가상 DOM이 생성된다. 
- 이러한 요소의 상태가 변경되면 새 가상 DOM 트리가 생성된다.
- 그런 다음 이 트리는 이전 가상 DOM 트리와 diff 알고리즘을 통해 비교된다. 
- 가상 DOM은 실제 DOM에 이러한 변경을 수행할 수 있는 최상의 방법을 계산한다.
- 실제 DOM에서는 최소한의 작업이 수행되어 실제 DOM 업데이트의 성능 비용을 줄인다.